<!DOCTYPE HTML>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="Jonathan Robert Pool">
    <meta name="creator" content="Jonathan Robert Pool">
    <meta name="publisher" name="Jonathan Robert Pool">
    <meta name="description" content="blog entry">
    <meta name="keywords" content="blog">
    <title>Accessibility test validation</title>
    <link rel="stylesheet" href="../../../../site/style.css">
  </head>
  <body>
    <main>
      <header>
        <p class="home"><a href="../../index.html">R&amp;D notes</a></p>
        <h1>Accessibility test validation</h1>
        <p class="author">Jonathan Robert Pool</p>
        <p class="summary">If experts fail a test, is the test broken?</p>
      </header>
      <h2>Introduction</h2>
      <p>The user base for digital technology (including websites, document files, messaging, applications, and devices) has become nearly coterminous with the world population. However, about a fifth of the world has disabilities. So the collection of norms, standards, and techniques that make digital products inclusive of users with disabilities&mdash;the field of <dfn><a href="https://www.w3.org/WAI/fundamentals/accessibility-intro/">digital accessibility</a></dfn>&mdash;has become a significant domain within design, engineering, policy, and law. Accessibility standards indirectly benefit an even larger public, since products conforming to those standards tend to be more usable across a wide range of education, age, equipment, and environment.</p>
      <p>To ensure that digital products are accessible, one tests them. A valid test finds all faults that it is intended to find, but does not find any fault unless it really exists. In other words, it reports neither <dfn>false negatives</dfn> nor <dfn>false positives</dfn>. Tests cannot be assumed to be valid. One must test&mdash;or validate&mdash;tests.</p>
      <h2>Seeking a gold standard</h2>
      <p>Consider false positives. To check for them, it would be ideal to have a body of digital products that are known to be completely accessible. Then one could perform tests on those products and expect the tests to report no faults. Such a set of perfect products could be considered a <dfn>gold standard</dfn> of accessibility.</p>
      <p>As a first step, it is common to construct artifacts for test validation. If one creates a test, one can also create products that should pass the test and then perform the test on those products. If the test reports a fault, one can investigate the cause. But there is a risk of overlooking product attributes that would expose defects in one&rsquo;s own tests. A gold standard that <strong>others</strong> have created would validate more trustably.</p>
      <p>A natural candidate for an independent gold standard is the set of digital products created by accessibility experts to advertise and propagate their knowledge. They know how to make things accessible. Presumably, their own artifacts are accessible. After all, if you are in the business of accessibility consulting, would you create an inaccessible website to market your services?</p>
      <h2>Testing a theory of testing a test</h2>
      <p>Let us put this idea into practice and discover how well it works.</p>
      <p>I recently created a battery of accessibility tests named <q>Autotest-combo10</q>. I started testing it by trying to code a <a href="https://jpdev.pro/jpdev/blog/entries/0000/passing.html">perfectly accessible web page</a> and debugging with it. Once that page passed all the tests, I identified a set of 41 web pages produced by accessibility experts, to serve, potentially, as an independent gold standard. I ran Autotest-combo10 on those 41 pages and obtained results. Autotest-combo10 reports <dfn>deficit</dfn> scores. A score of 0 indicates that a page has passed all the tests. Any deficit score greater than 0 indicates that at least one test has found at least one fault on the page.</p>
      <p>Here are the results:</p>
      <table class="allBorder">
        <caption>Results of testing accessibility experts&rsquo; web pages with Autotest-combo10</caption>
        <thead>
          <tr><th rowspan="2">Page</th><th colspan="2">Deficit, represented as:</th></tr>
          <tr><th>Number</th><th>Bar</th>
        </thead>
        <tbody class="secondCellRight">
          <tr><th><a href="https://webaim.org/">WebAIM</a></th><td>43</td><td><svg width="100%" height="1rem"><rect height="100%" width="1.2759643916913948%" fill="red"></rect></svg></td></tr>
          <tr><th><a href="https://www.w3.org/WAI/standards-guidelines/aria/">W3C WAI-ARIA</a></th><td>100</td><td><svg width="100%" height="1rem"><rect height="100%" width="2.9673590504451037%" fill="red"></rect></svg></td></tr>
          <tr><th><a href="https://www.accessibilityassociation.org/s/">IAAP</a></th><td>102</td><td><svg width="100%" height="1rem"><rect height="100%" width="3.026706231454006%" fill="red"></rect></svg></td></tr>
          <tr><th><a href="https://designsystem.digital.gov/documentation/accessibility/">U.S. Web Design System</a></th><td>102</td><td><svg width="100%" height="1rem"><rect height="100%" width="3.026706231454006%" fill="red"></rect></svg></td></tr>
          <tr><th><a href="https://www.mindscreen.de/">mindscreen</a></th><td>116</td><td><svg width="100%" height="1rem"><rect height="100%" width="3.4421364985163203%" fill="red"></rect></svg></td></tr>
          <tr><th><a href="https://www.aph.org/accessibility-solutions/">American Printing House</a></th><td>117</td><td><svg width="100%" height="1rem"><rect height="100%" width="3.4718100890207717%" fill="red"></rect></svg></td></tr>
          <tr><th><a href="https://www.digitalaccessibilitycentre.org/">Digital Accessibility Centre</a></th><td>117</td><td><svg width="100%" height="1rem"><rect height="100%" width="3.4718100890207717%" fill="red"></rect></svg></td></tr>
          <tr><th><a href="https://www.barrierbreak.com/">Barrier Break</a></th><td>121</td><td><svg width="100%" height="1rem"><rect height="100%" width="3.5905044510385755%" fill="red"></rect></svg></td></tr>
          <tr><th><a href="https://www.funka.com/en/">Funka</a></th><td>131</td><td><svg width="100%" height="1rem"><rect height="100%" width="3.887240356083086%" fill="red"></rect></svg></td></tr>
          <tr><th><a href="https://www.evinced.com/">Evinced</a></th><td>135</td><td><svg width="100%" height="1rem"><rect height="100%" width="4.005934718100891%" fill="red"></rect></svg></td></tr>
          <tr><th><a href="https://www.access-for-all.ch/ch/">Zugang für alle</a></th><td>138</td><td><svg width="100%" height="1rem"><rect height="100%" width="4.094955489614243%" fill="red"></rect></svg></td></tr>
          <tr><th><a href="https://usablenet.com/">UsableNet</a></th><td>143</td><td><svg width="100%" height="1rem"><rect height="100%" width="4.243323442136498%" fill="red"></rect></svg></td></tr>
          <tr><th><a href="https://convergeaccessibility.com/">Converge Accessibility</a></th><td>160</td><td><svg width="100%" height="1rem"><rect height="100%" width="4.747774480712166%" fill="red"></rect></svg></td></tr>
          <tr><th><a href="https://knowbility.org/">Knowbility</a></th><td>162</td><td><svg width="100%" height="1rem"><rect height="100%" width="4.807121661721069%" fill="red"></rect></svg></td></tr>
          <tr><th><a href="https://www.essentialaccessibility.com/">eSSENTIAL Accessibility</a></th><td>175</td><td><svg width="100%" height="1rem"><rect height="100%" width="5.192878338278931%" fill="red"></rect></svg></td></tr>
          <tr><th><a href="https://www.mozilla.org/en-US/">Mozilla</a></th><td>188</td><td><svg width="100%" height="1rem"><rect height="100%" width="5.578635014836795%" fill="red"></rect></svg></td></tr>
          <tr><th><a href="https://tenon.io/">Tenon</a></th><td>191</td><td><svg width="100%" height="1rem"><rect height="100%" width="5.667655786350148%" fill="red"></rect></svg></td></tr>
          <tr><th><a href="https://equalentry.com/">Equal Entry</a></th><td>200</td><td><svg width="100%" height="1rem"><rect height="100%" width="5.9347181008902075%" fill="red"></rect></svg></td></tr>
          <tr><th><a href="https://www.peatworks.org/">PEAT</a></th><td>202</td><td><svg width="100%" height="1rem"><rect height="100%" width="5.994065281899109%" fill="red"></rect></svg></td></tr>
          <tr><th><a href="https://theweco.com/">WeCo</a></th><td>213</td><td><svg width="100%" height="1rem"><rect height="100%" width="6.320474777448071%" fill="red"></rect></svg></td></tr>
          <tr><th><a href="https://www.accessibilityoz.com/">AccessibilityOz</a></th><td>215</td><td><svg width="100%" height="1rem"><rect height="100%" width="6.379821958456973%" fill="red"></rect></svg></td></tr>
          <tr><th><a href="https://www.levelaccess.com/">Level Access</a></th><td>231</td><td><svg width="100%" height="1rem"><rect height="100%" width="6.85459940652819%" fill="red"></rect></svg></td></tr>
          <tr><th><a href="https://www.accessibilityshield.com/">Accessibility Shield</a></th><td>232</td><td><svg width="100%" height="1rem"><rect height="100%" width="6.884272997032641%" fill="red"></rect></svg></td></tr>
          <tr><th><a href="https://www.hearcolors.com.mx/">Fundación Hearcolors</a></th><td>244</td><td><svg width="100%" height="1rem"><rect height="100%" width="7.240356083086054%" fill="red"></rect></svg></td></tr>
          <tr><th><a href="https://www.csun.edu/cod">CSUN Center on Disabilities</a></th><td>265</td><td><svg width="100%" height="1rem"><rect height="100%" width="7.863501483679525%" fill="red"></rect></svg></td></tr>
          <tr><th><a href="https://www.bfit-bund.de/DE/Home/home_node.html">BFIT-Bund</a></th><td>267</td><td><svg width="100%" height="1rem"><rect height="100%" width="7.922848664688427%" fill="red"></rect></svg></td></tr>
          <tr><th><a href="https://onlineada.com/">Online ADA</a></th><td>297</td><td><svg width="100%" height="1rem"><rect height="100%" width="8.813056379821958%" fill="red"></rect></svg></td></tr>
          <tr><th><a href="https://myblindspot.org/">My Blind Spot</a></th><td>316</td><td><svg width="100%" height="1rem"><rect height="100%" width="9.376854599406528%" fill="red"></rect></svg></td></tr>
          <tr><th><a href="https://www.abilitynet.org.uk/">AbilityNet</a></th><td>336</td><td><svg width="100%" height="1rem"><rect height="100%" width="9.970326409495549%" fill="red"></rect></svg></td></tr>
          <tr><th><a href="https://www.crawfordtech.com/accessibilitynow">Crawford Technologies</a></th><td>391</td><td><svg width="100%" height="1rem"><rect height="100%" width="11.602373887240356%" fill="red"></rect></svg></td></tr>
          <tr><th><a href="https://atos.net/en/lp/accessibility-and-assistive-technology-iux">Atos</a></th><td>481</td><td><svg width="100%" height="1rem"><rect height="100%" width="14.27299703264095%" fill="red"></rect></svg></td></tr>
          <tr><th><a href="https://www.microassist.com/">Microassist</a></th><td>550</td><td><svg width="100%" height="1rem"><rect height="100%" width="16.320474777448073%" fill="red"></rect></svg></td></tr>
          <tr><th><a href="https://www.viscardicenter.org/digital-accessibility-services/web-accessibility/">Viscardi Center</a></th><td>555</td><td><svg width="100%" height="1rem"><rect height="100%" width="16.468842729970326%" fill="red"></rect></svg></td></tr>
          <tr><th><a href="https://www.audioeye.com/">AudioEye</a></th><td>571</td><td><svg width="100%" height="1rem"><rect height="100%" width="16.94362017804154%" fill="red"></rect></svg></td></tr>
          <tr><th><a href="https://cidi.gatech.edu/">Georgia Tech CIDI</a></th><td>658</td><td><svg width="100%" height="1rem"><rect height="100%" width="19.525222551928785%" fill="red"></rect></svg></td></tr>
          <tr><th><a href="https://accessibleweb.com/">Accessible Web</a></th><td>936</td><td><svg width="100%" height="1rem"><rect height="100%" width="27.774480712166174%" fill="red"></rect></svg></td></tr>
          <tr><th><a href="https://www.visionaustralia.org/services/digital-access">Vision Australia</a></th><td>1014</td><td><svg width="100%" height="1rem"><rect height="100%" width="30.089020771513354%" fill="red"></rect></svg></td></tr>
          <tr><th><a href="https://www.tpgi.com/">TPGi</a></th><td>1017</td><td><svg width="100%" height="1rem"><rect height="100%" width="30.178041543026705%" fill="red"></rect></svg></td></tr>
          <tr><th><a href="https://deque.com/">Deque</a></th><td>1155</td><td><svg width="100%" height="1rem"><rect height="100%" width="34.27299703264095%" fill="red"></rect></svg></td></tr>
          <tr><th><a href="https://siteimprove.com/en-us/accessibility/">Siteimprove</a></th><td>2462</td><td><svg width="100%" height="1rem"><rect height="100%" width="73.05637982195846%" fill="red"></rect></svg></td></tr>
          <tr><th><a href="https://accessibe.com/">AccessiBe</a></th><td>3011</td><td><svg width="100%" height="1rem"><rect height="100%" width="89.3471810089021%" fill="red"></rect></svg></td></tr>
        </tbody>
      </table>
      <p>The table above shows that all 41 independent expert pages failed at least one test. Why? There are three possible explanations:</p>
      <ul>
        <li>The tests are correct, and the pages are faulty. Autotest-combo10 is reporting real faults.</li>
        <li>The pages are accessible, and tests are faulty. Autotest-combo10 is reporting false positives.</li>
        <li>Accessibility is variously interpreted. The page creators consider their pages accessible, but Autotest-combo10 disagrees.</li>
      </ul>
      <p>Neither a test nor a web page is likely to be perfect, and there are legitimate differences of interpretation of perfection. Therefore, all three explanations are likely appropriate for some of the reported faults.</p>
      <p>Autotest-combo10 is a combination of 10 tests. Here is a list of them. For each test, the number of pages failing the test is shown.</p>
      <table class="allBorder">
        <caption>Autotest-combo10 tests and counts of pages failing them</caption>
        <thead><tr><th>Test</th><th>Failing pages</th></tr></thead>
        <tbody class="secondCellRight">
          <tr><th>styleDiff</th><td>41</td></tr>
          <tr><th>wave1</th><td>40</td></tr>
          <tr><th>bulk</th><td>39</td></tr>
          <tr><th>linkUl</th><td>36</td></tr>
          <tr><th>axe</th><td>34</td></tr>
          <tr><th>focOl</th><td>34</td></tr>
          <tr><th>roleS</th><td>31</td></tr>
          <tr><th>focOp</th><td>29</td></tr>
          <tr><th>labClash</th><td>10</td></tr>
          <tr><th>radioSet</th><td>0</td></tr>
        </tbody>
      </table>
      <p>Two of these tests are actually batteries of tests created by other projects: <code>axe</code> (<a href="https://github.com/dequelabs/axe-core">Axe by Deque</a>) and <code>wave1</code> (<a href="https://wave.webaim.org/">WAVE by WebAIM</a>). The other eight tests are custom-created.</p>
      <h2>Inspecting</h2>
      <p>To begin validating this battery of tests, one can inspect individual reported faults.</p>
      <h3>Roles</h3>
      <p>Here is a piece of one of the 41 pages:</p>
      <p><img src="buttonLinks.png" alt="3 blue rectangles with white text, Accept, Reject, and Read More"></p>
      <p>They look like 3 buttons, but in fact they are links, created with the HTML <code>a</code> element. An <code>a</code> element in HTML has the role <code>link</code>. But this page changes the role of the first two links by adding the attribute <code>role="button"</code> to them. So now those two links have the role of <code>button</code>, while the third one still has the role of <code>link</code>.</p>
      <p>The <code>roleS</code> test reports these role reassignments as faults. In HTML, the <code>button</code> element automatically has the <code>button</code> role. The test considers it a poor practice for accessibility to change the role of an HTML element when, instead, one could have used the element that already has the role.</p>
      <p>This rejection has a reasonable basis. A role implies particular behaviors. Giving an element a <code>button</code> role is a <a href="https://www.w3.org/TR/wai-aria-practices/#no_aria_better_bad_aria">promise that the element will behave exactly like a button</a>. But such a promise is difficult to keep, because element behaviors are complex. In fact, the page breaks its promise to make the first two links behave like buttons. A user can click a button not only with a mouse, but also with either the <kbd>Enter</kbd> key or the <kbd>Space</kbd> key (after using the <kbd>Tab</kbd> key to move to the button). But, for these two links with the <code>button</code> role, the <kbd>Space</kbd> key scrolls the page instead, as it normally does. Promise broken. Reassigning roles also complicates the code and makes it harder to test and, when somebody else revises it later, more likely to break.</p>
      <h3>Styles</h3>
      <p>The same page that contains the <q>Read More</q> link shown above also contains this <q>Learn more</q> link.</p>
      <p><img src="link.png" alt="link with text Learn more and a right-pointing caret"></p>
      <p>Both are links, without any special role assignment. But they look very different. The <code>styleDiff</code> test faults the page for giving dissimilar <code>style</code> properties (and thus dissimilar appearances) to its links. (It does the same for buttons and the six levels of headings.) The test considers this a poor practice for accessibility. It complicates the user&rsquo;s task of identifying items on the page. It makes user mistakes more likely. And these harms will tend particularly to befall users with visual, memory, attention, or learning disabilities.</p>
      <h3>Focus indicators</h3>
      <p>Using the <kbd>Tab</kbd> key to move around a page changes the <dfn>focus</dfn>. The element that has the focus is the one the user will act on if the user presses an appropriate key. On an accessible page, the current focus is always made visible, with a <dfn>focus indicator</dfn>. The standard focus indicator is an outline. (Navigate on this page with your <kbd>Tab</kbd> key to see the outline move.) The <code>focOl</code> test considers it a poor practice to hide the outline or replace it with some other focus indicator. The idea is that users have learned to recognize focus by the outline, and using some other indicator will tend to confuse them.</p>
      <p>Here is a list of links that have failed the <code>focOl</code> test.</p>
      <p><img src="focus.png" alt="3 links, of which the first is blue on white and the second and third are white on a blue"></p>
      <p>The third link has the focus. The page is designed to show focus on a link by inverting its color style. The link changes from blue on white to white on blue. Not only must the user learn to recognize this nonstandard focus indicator, but the page uses exactly the same indicator to show that the user is hovering over a link with the mouse. The second link here is being hovered over. Which one is in focus, and which one is being hovered over? It isn&rsquo;t obvious. But pressing the <kbd>Enter</kbd> key will follow the <strong>focused</strong> link, not the <strong>hovered</strong> link. So using the same indicator for two different purposes can confuse the user and lead to mistakes.</p>
      <h3>Labels</h3>
      <p>When an accessible form asks the user to input text, the form tells the user what information is requested. Preceding the input field with explanatory text works well for some users, but not all. Accessibility standards require input labels to be formally specified, so other software can help users understand forms.</p>
      <p>Here is an input field on one of the pages, asking for the user&rsquo;s first name.</p>
      <p><img src="input.png" alt="input field, preceded by First Name"></p>
      <p>The HTML code for this input makes the phrase <q>First Name</q> a label for the input. However, this labeling fails the <code>labClash</code> test, because the code, shown below, uses two different and incompatible labeling methods. <code>for="fld_8768091_1"</code> and <code>aria-labelledby="fld_8768091Label"</code> are competing to perform the same function.</p>
      <pre>&lt;div data-field-wrapper="fld_8768091" class="form-group" id="fld_8768091_1-wrap">
        &lt;label id="fld_8768091Label" for="fld_8768091_1" class="control-label">First Name &lt;span aria-hidden="true" role="presentation" class="field_required" style="color:#ee0000;">*&lt;/span>&lt;/label>
        &lt;div class="">
          &lt;input required="" type="text" data-field="fld_8768091" class=" form-control" id="fld_8768091_1" name="fld_8768091" value="" data-type="text" aria-required="true" aria-labelledby="fld_8768091Label" field_signature="3876002848" form_signature="10360417896781115281">			&lt;/div>
      &lt;/div></pre>
      <p>When this mistake is made, the user&rsquo;s equipment is expected to pay attention to one of the labeling methods and disregard the other. But this conflict could do harm if the user&rsquo;s equipment is faulty. And such a coding error increases the cost and fragility of future code maintenance and testing. So the <code>labClash</code> test considers it an accessibility fault.</p>
      <h3>Omissions</h3>
      <p>The examples above are real faults if you agree with the tests, false positives if you consider the tests too strict, or matters of interpretation if you are on the fence.</p>
      <p>But Autotest-combo10 only begins to test for what makes a web page accessible. These pages, despite their expert authorship, may contain additional accessibility faults that Autotest-combo10 is not designed to detect&mdash;or false negatives: faults that it erroneously overlooks.</p>
      <p>One example is the lack of form-completion help to users. The input field shown above should, according to an <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/autocomplete">accessibility standard</a>, contain an <code>autocomplete="given-name"</code> attribute. That would formally specify what the input field needs, so a user&rsquo;s software can populate the field. That is particularly valuable for users with mobility or memory disabilities. Autotest-combo10 does not (yet) test for that fault.</p>
      <p>The <q>Learn more</q> link shown above exhibits another fault that Autotest-combo10 does not test for: undifferentiated links. It is one of 13 links on the page with exactly the same text, but pointing to 13 different destinations. When that happens, users who can see the page can see the text immediately above and figure out what topic each link will elucidate. But what about blind users? They might have decided to navigate from link to link, listening to each link. They will hear <q>Learn more</q> repeatedly. They will not know what any of these links will help them learn more about. An accessible web page adds labels to such links, allowing the user&rsquo;s equipment to announce a detailed description of each link.</p>
      <h2>Conclusion</h2>
      <p>These examples have shown that digital products created by accessibility experts are not a true gold standard; they cannot be trusted to be accessible. Testing them for accessibility is still necessary. Using them&mdash;skeptically&mdash;in the validation of one&rsquo;s accessibility tests is valuable. But the diagnosis of test results requires care. When an expert&rsquo;s product fails a test, the test might be at fault, the product might be at fault, or reasonable experts might disagree about where the fault lies. Through this tension between tester and tested, it should be possible to improve tests, improve digital products, and clarify interpretations of accessibility.</p>
      <footer>
        <p>This work is entirely my own and does not represent my employer, CVS Health.</p>
        <p>To inspect the data reported here, begin with the <a href="data/summary.json">summary</a>. To inspect any file referenced in the summary, visit <code>data/details/fff.json</code>, replacing <code>fff.json</code> with the file name.</p>
        <p class="date">Published <time itemprop="datePublished" datetime="2021-08-16">2021/08/16</time></p>
        <p class="moddate">Revised <time itemprop="dateModified" datetime="2021-08-16">2021/08/16</time></p>
      </footer>
    </main>
  </body>
</html>
